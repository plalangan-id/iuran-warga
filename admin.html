<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Iuran</title>
    <style>
        body { font-family: sans-serif; padding: 20px; background: #f0f0f0; }
        .box { background: white; padding: 20px; border-radius: 10px; margin-bottom: 20px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
        input, select { width: 100%; padding: 10px; margin: 10px 0; box-sizing: border-box; }
        button { width: 100%; padding: 15px; border: none; border-radius: 5px; cursor: pointer; font-weight: bold; }
        .btn-iuran { background: #27ae60; color: white; }
        .btn-keluar { background: #e74c3c; color: white; }
    </style>
</head>
<body>

    <div class="box">
        <h3>Input Pembayaran Warga</h3>
        <input type="text" id="nama" placeholder="Nama Warga">
        <select id="bulan">
            <option>Januari</option><option>Februari</option><option>Maret</option>
            <option>April</option><option>Mei</option><option>Juni</option>
            <option>Juli</option><option>Agustus</option><option>September</option>
            <option>Oktober</option><option>November</option><option>Desember</option>
        </select>
        <input type="number" id="jumlah" placeholder="Nominal (Contoh: 15000)">
        <button class="btn-iuran" onclick="kirim('tambahIuran')">SIMPAN PEMBAYARAN</button>
    </div>

    <div class="box">
        <h3>Input Pengeluaran Kas</h3>
        <input type="text" id="ket" placeholder="Keterangan (Contoh: Beli Lampu)">
        <input type="number" id="jmlKeluar" placeholder="Nominal Pengeluaran">
        <button class="btn-keluar" onclick="kirim('tambahKeluar')">SIMPAN PENGELUARAN</button>
    </div>

    <script>
        // MASUKKAN URL EXEC ANDA DI SINI
        const URL_SCRIPT = 'https://script.google.com/macros/s/AKfycbxjbh_69HuT8d-Ul2G0E9hBO3rFjOEaoUmgZSSwKeU89F27xv287oRSBmnzmUxO2BHg/exec';

        async function kirim(aksi) {
            let data = { aksi: aksi };
            if (aksi === 'tambahIuran') {
                data.nama = document.getElementById('nama').value;
                data.bulan = document.getElementById('bulan').value;
                data.jumlah = document.getElementById('jumlah').value;
            } else {
                data.keterangan = document.getElementById('ket').value;
                data.jumlahKeluar = document.getElementById('jmlKeluar').value;
            }

            if(!confirm("Yakin simpan data?")) return;

            try {
                await fetch(URL_SCRIPT, {
                    method: 'POST',
                    mode: 'no-cors',
                    body: JSON.stringify(data)
                });
                alert("Data Berhasil Terkirim!");
                location.reload();
            } catch (e) {
                alert("Gagal: " + e);
            }
        }
    </script>
</body>
</html>
